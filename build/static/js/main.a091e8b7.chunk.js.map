{"version":3,"sources":["components/Yhteystieto.js","components/Lomake.js","services/puhelinluettelo.js","components/Info.js","components/Virhe.js","App.js","index.js"],"names":["Yhteystieto","props","yhteystiedot","react_default","a","createElement","nimi","numero","onClick","length","name","poisto","id","window","confirm","concat","axios","delete","then","res","console","log","data","splice","Lomake","onSubmit","value","newName","onChange","lisaaNimi","newNumber","lisaanro","type","baseUrl","puhelinluettelo","lisays","post","response","muokkaus","put","get","Info","_ref","message","className","Virhe","ilmoitus","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","useEffect","luettelo","henkilo","_React$useState","React","_React$useState2","setNewName","_React$useState3","_React$useState4","setNewNumber","_React$useState5","_React$useState6","muokkaa","_React$useState7","_React$useState8","vahvistus","vahvista","_React$useState9","_React$useState10","virhe","lisaavirhe","_useState3","_useState4","naytaKaikki","aseta","filter","person","important","components_Info","components_Virhe","event","haku","target","re","RegExp","i","search","components_Lomake","preventDefault","number","muutos","setTimeout","catch","error","val","alert","nro","map","yhteystieto","components_Yhteystieto","sanoma","index","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"qNAiCeA,EA1BG,SAACC,GAEjB,IAAMC,EAAaD,EAAMC,aAezB,OACEC,EAAAC,EAAAC,cAAA,oBACSJ,EAAMK,KADf,KACsBH,EAAAC,EAAAC,cAAA,WADtB,kBAEkBJ,EAAMM,OAFxB,KAEiCJ,EAAAC,EAAAC,cAAA,WAC/BF,EAAAC,EAAAC,cAAA,UAASG,QAlBC,WACZ,IAAK,IAAIJ,EAAE,EAAGA,EAAEF,EAAaO,OAAQL,IACnC,GAAIF,EAAaE,GAAGM,OAAOT,EAAMK,KAAK,CACpC,IAAMK,EAAOT,EAAaE,GAAGM,KACvBE,EAAGV,EAAaE,GAAGQ,GAC1BC,OAAOC,QAAP,gBAAAC,OAA+BJ,EAA/B,MACAK,IACCC,OADD,iCAAAF,OACyCH,IAC3CM,KAAK,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAIG,QAC7BpB,EAAaqB,OAAOnB,MASlB,YCLSoB,EArBF,SAACvB,GAIV,OACQE,EAAAC,EAAAC,cAAA,WACKF,EAAAC,EAAAC,cAAA,QAAMoB,SAAUxB,EAAMwB,UAC7BtB,EAAAC,EAAAC,cAAA,mBACOF,EAAAC,EAAAC,cAAA,WADP,IACaF,EAAAC,EAAAC,cAAA,SAAOqB,MAAOzB,EAAM0B,QAASC,SAAU3B,EAAM4B,aAExD1B,EAAAC,EAAAC,cAAA,4BACeF,EAAAC,EAAAC,cAAA,WADf,IACqBF,EAAAC,EAAAC,cAAA,SAAOqB,MAAOzB,EAAM6B,UAAWF,SAAU3B,EAAM8B,YAEpE5B,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAQ2B,KAAK,UAAb,mBCbVC,EAAQ,gCAyBGC,EAhBF,SAAAC,GAEX,OADenB,IAAMoB,KAAKH,EAASE,GACpBjB,KAAK,SAAAmB,GAAQ,OAAIA,EAASf,QAc5BY,EAXA,SAACI,EAAUR,GAExB,OADed,IAAMuB,IAAN,GAAAxB,OAAakB,EAAb,KAAAlB,OAAwBuB,GAAYR,GACpCZ,KAAK,SAAAmB,GAAQ,OAAIA,EAASf,QAS5BY,EAvBF,WAEX,OADelB,IAAMwB,IAAIP,GACVf,KAAK,SAAAmB,GAChB,OAAOA,EAASf,QCKTmB,EAXF,SAAAC,GAAiB,IAAdC,EAAcD,EAAdC,QACZ,OAAgB,OAAZA,EACK,KAKbxC,EAAAC,EAAAC,cAAA,OAAKuC,UAAU,QAAQD,EAAvB,MCIeE,EAXD,SAAAH,GAAkB,IAAfI,EAAeJ,EAAfI,SACb,OAAiB,OAAbA,EACK,KAKb3C,EAAAC,EAAAC,cAAA,OAAKuC,UAAU,SAASE,EAAxB,MC8HiBC,EA7HL,WAAM,IAAAC,EAEYC,mBAAS,IAFrBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAETK,EAFSH,EAAA,GAEAI,EAFAJ,EAAA,GAIdK,oBAAU,WACNC,IAEEtC,KAAK,SAAAuC,GAAO,OACZH,EAAWG,MACd,IATW,IAAAC,EAWkBC,IAAMV,SAAS,IAXjCW,EAAAT,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAWN/B,EAXMiC,EAAA,GAWGC,EAXHD,EAAA,GAAAE,EAYsBH,IAAMV,SAAS,IAZrCc,EAAAZ,OAAAC,EAAA,EAAAD,CAAAW,EAAA,GAYNhC,EAZMiC,EAAA,GAYKC,EAZLD,EAAA,GAAAE,EAaYN,IAAMV,UAAU,GAb5BiB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAaP3B,EAbO4B,EAAA,GAaGC,EAbHD,EAAA,GAAAE,EAccT,IAAMV,SAAS,MAd7BoB,EAAAlB,OAAAC,EAAA,EAAAD,CAAAiB,EAAA,GAcPE,EAdOD,EAAA,GAcIE,EAdJF,EAAA,GAAAG,EAeYb,IAAMV,SAAS,MAf3BwB,EAAAtB,OAAAC,EAAA,EAAAD,CAAAqB,EAAA,GAePE,EAfOD,EAAA,GAeAE,EAfAF,EAAA,GAAAG,EA4Ee3B,oBAAS,GA5ExB4B,EAAA1B,OAAAC,EAAA,EAAAD,CAAAyB,EAAA,GA4EPE,EA5EOD,EAAA,GA4EME,EA5ENF,EAAA,GA8EP3E,EACLmD,EAAQ2B,OAAO,SAAAC,GAAM,OAAGA,EAAOC,YA6BlC,OACG/E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC8E,EAAD,CAAMxC,QAAS2B,IACfnE,EAAAC,EAAAC,cAAC+E,EAAD,CAAOtC,SAAU4B,IACjBvE,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,0CAAwBF,EAAAC,EAAAC,cAAA,SAAOuB,SAhCjB,SAACyD,GAGjB,IAFA,IAAIC,EAAKD,EAAME,OAAO7D,MAClB8D,EAAK,IAAIC,OAAOH,EAAM,MACjBI,EAAE,EAAGA,EAAErC,EAAQ5C,OAAQiF,IACzBrC,EAAQqC,GAAGpF,KAAKqF,OAAOH,IAAO,GAAKnC,EAAQqC,GAAGnF,OAAOoF,OAAOH,IAAO,EACrEnC,EAAQqC,GAAGR,WAAU,EAErB7B,EAAQqC,GAAGR,WAAU,EAGzBH,GAAOD,MAsBkD3E,EAAAC,EAAAC,cAAA,aAG3DF,EAAAC,EAAAC,cAACuF,EAAD,CAASnE,SA7ES,SAAC4D,GACdA,EAAMQ,iBACE,IAAM1D,EAAQ,CACTzB,KAAKiB,EACLmE,OAAOhE,EACPoD,WAAU,GACnB5C,GAAU,GACZzB,OAAOC,QAAP,GAAAC,OAAkBY,EAAlB,0DACA6B,EAAgBlB,EAAUH,GACzBjB,KAAK,SAAA6E,GACJhB,GAAOD,GACPP,EAAS,0BACTyB,WAAW,WACTzB,EAAS,OACR,OAEJ0B,MAAM,SAAAC,GACLvB,EAAW,+CACXqB,WAAW,WACTrB,EAAW,OACV,OACLR,GAAS,KAEnBX,EACQrB,GACPjB,KAAM,SAAAiB,GAAM,OACXmB,EAAWD,EAAQtC,OAAOoB,MAC1BoC,EAAS,0BACDyB,WAAW,WACTzB,EAAS,OACR,MAENV,EAAW,IACXG,EAAa,KA4CiBrC,QAASA,EAASE,UAlGtC,SAACwD,GAEhB,IADA,IAAIc,EAAId,EAAME,OAAO7D,MACZgE,EAAE,EAAGA,EAAErC,EAAQ5C,OAAQiF,IAC1BS,IAAM9C,EAAQqC,GAAGhF,OAClB0F,MAAK,GAAArF,OAAKoF,EAAL,+BACLhC,EAAQd,EAAQqC,GAAG9E,KAElBiD,EAAWsC,IA4FXrE,UAAYA,EAAWC,SAzFf,SAACsD,GAEZ,IADH,IAAIgB,EAAIhB,EAAME,OAAO7D,MACTgE,EAAE,EAAGA,EAAErC,EAAQ5C,OAAQiF,IACzBW,IAAMhD,EAAQqC,GAAGI,QAClBM,MAAK,GAAArF,OAAIsF,EAAJ,8BACLrC,EAAa,KAEZA,EAAaqC,MAmFpBlG,EAAAC,EAAAC,cAAA,qBACDF,EAAAC,EAAAC,cAAA,WAzBYH,EAAaoG,IAAI,SAAAC,GAAW,OAC1CpG,EAAAC,EAAAC,cAAA,OAAKO,GAAG,UACRT,EAAAC,EAAAC,cAACmG,EAAD,CACAC,OAAQnC,EACRoC,OAnFQ,EAoFRxG,aAAcA,EACZyG,IAAKJ,EAAY3F,GACjBN,KAAMiG,EAAY7F,KAClBH,OAAQgG,EAAYT,qBCvG5Bc,IAASC,OAAO1G,EAAAC,EAAAC,cAACyG,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.a091e8b7.chunk.js","sourcesContent":["import React from 'react';\r\nimport axios from'axios'\r\n\r\n\r\n\r\n\r\n\r\nconst Yhteystieto=(props) => {\r\n\r\n  const yhteystiedot=props.yhteystiedot\r\n  const poista =()=> {\r\n    for (let a=0; a<yhteystiedot.length; a++){\r\n      if (yhteystiedot[a].name===props.nimi){\r\n        const poisto=yhteystiedot[a].name\r\n        const id=yhteystiedot[a].id\r\n       window.confirm(`Poistetaanko ${poisto}?`) \r\n       axios\r\n       .delete(`http://localhost:3001/persons/${id}`)\r\n    .then(res => console.log(res.data));\r\n    yhteystiedot.splice(a)\r\n\r\n      }\r\n  }}\r\n\r\n  return (\r\n    <div >\r\n      Nimi: {props.nimi}  <br/>     \r\n      Puhelinnumero: {props.numero}  <br/>\r\n      <button  onClick={poista}>Poista</button>\r\n    </div>\r\n)\r\n\r\n}\r\nexport default Yhteystieto;\r\n","import React from 'react'\r\n\r\nconst Lomake=(props)=> {\r\n\r\n\r\n\r\n    return (\r\n            <div>\r\n                 <form onSubmit={props.onSubmit}>\r\n          <div>\r\n            nimi:<br/> <input value={props.newName} onChange={props.lisaaNimi} />\r\n          </div>\r\n            <div>\r\n             puhelinnumero:<br/> <input value={props.newNumber} onChange={props.lisaanro} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" >lisää</button>\r\n        </div>\r\n      </form>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Lomake","\r\nimport axios from 'axios';\r\n\r\nconst baseUrl='http://localhost:3001/persons'\r\n\r\nconst getAll = () => {\r\n    const request= axios.get(baseUrl)\r\n    return request.then(response => {\r\n        return response.data\r\n      })\r\n  }\r\n\r\nconst create = lisays => {\r\n    const request= axios.post(baseUrl, lisays)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (muokkaus, newNumber) => {\r\n    const request= axios.put(`${baseUrl}/${muokkaus}`, newNumber)\r\n    return request.then(response => response.data)\r\n  }\r\n  const poistacontact = index =>{\r\n    console.log(index)\r\n    axios.delete(`${baseUrl}/${index}`)\r\n    .then(res => console.log(res.data));\r\n      \r\n  }\r\n  \r\n  export default {\r\n      create:create,\r\n      update:update,\r\n      getAll:getAll,\r\n      poistacontact:poistacontact\r\n  }","import React from 'react'\r\n\r\nconst Info = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\nreturn (\r\n\r\n<div className=\"info\">{message} </div>\r\n)\r\n}\r\n\r\nexport default Info","import React from 'react'\r\n\r\nconst Virhe = ({ ilmoitus }) => {\r\n    if (ilmoitus === null) {\r\n      return null\r\n    }\r\n\r\nreturn (\r\n\r\n<div className=\"virhe\">{ilmoitus} </div>\r\n)\r\n}\r\n\r\nexport default Virhe","import React, { useState, useEffect } from 'react';\r\nimport Yhteystieto from './components/Yhteystieto';\r\nimport Lomake from './components/Lomake';\r\nimport luettelo from './services/puhelinluettelo';\r\nimport Info from './components/Info'\r\nimport Virhe from './components/Virhe'\r\n\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n  const [persons, setPersons]=useState([])\r\n\r\n    useEffect(() => {\r\n        luettelo\r\n         .getAll()\r\n         .then(henkilo=>\r\n          setPersons(henkilo))\r\n    }, [])\r\n\r\n    const [ newName, setNewName ] = React.useState('')\r\n    const [ newNumber, setNewNumber ] = React.useState('')\r\n    const [muokkaus, muokkaa]=React.useState(-1)\r\n    const [vahvistus, vahvista]=React.useState(null)\r\n    const [virhe, lisaavirhe]=React.useState(null)\r\n    let index=-1\r\n\r\n\r\n    const lisaaNimi =(event)=>{\r\n      let val=event.target.value\r\n      for (let i=0; i<persons.length; i++){\r\n        if (val===persons[i].name){\r\n           alert( `${val} on jo puhelinluettelossa.`)\r\n           muokkaa(persons[i].id)        \r\n            }\r\n            setNewName(val)\r\n          }}         \r\n\r\n    const lisaanro =(event)=>{\r\n      let nro=event.target.value\r\n         for (let i=0; i<persons.length; i++){\r\n            if (nro===persons[i].number){\r\n               alert(`${nro} on jo puhelinluettelossa`)\r\n               setNewNumber('')\r\n            }else {\r\n                setNewNumber(nro)\r\n            }\r\n               }}\r\n\r\n    const addNewContact =(event)=> {\r\n            event.preventDefault()\r\n                    const lisays= {\r\n                         name:newName, \r\n                         number:newNumber,\r\n                         important:true}\r\n            if (muokkaus>-1){\r\n              window.confirm(`${newName} on jo luettelossa. Päivitetäänkö numero?`)\r\n              luettelo.update(muokkaus, lisays)\r\n              .then(muutos =>{\r\n                aseta(!naytaKaikki)\r\n                vahvista(\"Yhteystieto lisätty\")\r\n                setTimeout(() => {\r\n                  vahvista(null)\r\n                }, 5000)})\r\n  \r\n              .catch(error =>{\r\n                lisaavirhe(\"Yhteystiedon päivittäminen ei onnistu\")\r\n                setTimeout(() => {\r\n                  lisaavirhe(null)\r\n                }, 5000)})\r\n              muokkaa(-1)\r\n            } else {\r\n    luettelo\r\n    .create(lisays)\r\n    .then (lisays => \r\n      setPersons(persons.concat(lisays)))\r\n      vahvista(\"Yhteystieto lisätty\")\r\n              setTimeout(() => {\r\n                vahvista(null)\r\n              }, 5000)\r\n              }\r\n           setNewName('')\r\n           setNewNumber('')\r\n    }  \r\n\r\n    const [naytaKaikki, aseta] = useState(true)\r\n\r\n    const  yhteystiedot=naytaKaikki\r\n    ? persons.filter(person=> person.important)\r\n    : persons.filter(person=> person.important)\r\n \r\n    const handleChange =(event)=> { \r\n        let haku=event.target.value\r\n        var re = new RegExp(haku, \"ig\")\r\n        for (let i=0; i<persons.length; i++){\r\n           if (persons[i].nimi.search(re) > -1 || persons[i].numero.search(re) > -1){\r\n             persons[i].important=true     \r\n           }else{\r\n             persons[i].important=false\r\n           }       \r\n         } \r\n         aseta(!naytaKaikki)\r\n      }\r\n\r\n    const rows=() =>yhteystiedot.map(yhteystieto => \r\n      <div id=\"tiedot\">\r\n      <Yhteystieto \r\n      sanoma={vahvistus}\r\n      index={index}\r\n      yhteystiedot={yhteystiedot}\r\n        key={yhteystieto.id}\r\n        nimi={yhteystieto.name}\r\n        numero={yhteystieto.number} \r\n        />\r\n        </div>\r\n     )\r\n\r\n   return (\r\n      <div>\r\n        <Info message={vahvistus}/>\r\n        <Virhe ilmoitus={virhe}/>\r\n        <h2>Puhelinluettelo</h2>\r\n        <form >\r\n          <div>Rajaa näytettäviä: <input onChange={handleChange}/><br/>\r\n          </div>\r\n        </form>\r\n       <Lomake  onSubmit={addNewContact} newName={newName} lisaaNimi={lisaaNimi} \r\n            newNumber ={newNumber} lisaanro={lisaanro}/>\r\n         <h2>Numerot</h2>\r\n        <div>{rows()}</div>\r\n      </div>\r\n   )\r\n  }\r\n\r\n  export default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\n\r\n\r\n\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}