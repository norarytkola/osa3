(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),u=n(13),r=n.n(u),i=n(2),o=n(3),c=n.n(o),m=function(e){var t=e.yhteystiedot;return l.a.createElement("div",null,"Nimi: ",e.nimi,"  ",l.a.createElement("br",null),"Puhelinnumero: ",e.numero,"  ",l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){for(var n=0;n<t.length;n++)if(t[n].name===e.nimi){var a=t[n].name,l=t[n].id;window.confirm("Poistetaanko ".concat(a,"?")),c.a.delete("http://localhost:3001/persons/".concat(l)).then(function(e){return console.log(e.data)}),t.splice(n)}}},"Poista"))},s=function(e){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:e.onSubmit},l.a.createElement("div",null,"nimi:",l.a.createElement("br",null)," ",l.a.createElement("input",{value:e.newName,onChange:e.lisaaNimi})),l.a.createElement("div",null,"puhelinnumero:",l.a.createElement("br",null)," ",l.a.createElement("input",{value:e.newNumber,onChange:e.lisaanro})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},f="http://localhost:3001/persons",h=function(e){return c.a.post(f,e).then(function(e){return e.data})},v=function(e,t){return c.a.put("".concat(f,"/").concat(e),t).then(function(e){return e.data})},E=function(){return c.a.get(f).then(function(e){return e.data})},d=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"info"},t," ")},b=function(e){var t=e.ilmoitus;return null===t?null:l.a.createElement("div",{className:"virhe"},t," ")},p=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],u=t[1];Object(a.useEffect)(function(){E().then(function(e){return u(e)})},[]);var r=l.a.useState(""),o=Object(i.a)(r,2),c=o[0],f=o[1],p=l.a.useState(""),g=Object(i.a)(p,2),w=g[0],j=g[1],y=l.a.useState(-1),N=Object(i.a)(y,2),O=N[0],S=N[1],k=l.a.useState(null),P=Object(i.a)(k,2),C=P[0],x=P[1],T=l.a.useState(null),Y=Object(i.a)(T,2),J=Y[0],R=Y[1],B=Object(a.useState)(!0),D=Object(i.a)(B,2),I=D[0],q=D[1],z=n.filter(function(e){return e.important});return l.a.createElement("div",null,l.a.createElement(d,{message:C}),l.a.createElement(b,{ilmoitus:J}),l.a.createElement("h2",null,"Puhelinluettelo"),l.a.createElement("form",null,l.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4: ",l.a.createElement("input",{onChange:function(e){for(var t=e.target.value,a=new RegExp(t,"ig"),l=0;l<n.length;l++)n[l].nimi.search(a)>-1||n[l].numero.search(a)>-1?n[l].important=!0:n[l].important=!1;q(!I)}}),l.a.createElement("br",null))),l.a.createElement(s,{onSubmit:function(e){e.preventDefault();var t={name:c,number:w,important:!0};O>-1?(window.confirm("".concat(c," on jo luettelossa. P\xe4ivitet\xe4\xe4nk\xf6 numero?")),v(O,t).then(function(e){q(!I),x("Yhteystieto lis\xe4tty"),setTimeout(function(){x(null)},5e3)}).catch(function(e){R("Yhteystiedon p\xe4ivitt\xe4minen ei onnistu"),setTimeout(function(){R(null)},5e3)}),S(-1)):(h(t).then(function(e){return u(n.concat(e))}),x("Yhteystieto lis\xe4tty"),setTimeout(function(){x(null)},5e3)),f(""),j("")},newName:c,lisaaNimi:function(e){for(var t=e.target.value,a=0;a<n.length;a++)t===n[a].name&&(alert("".concat(t," on jo puhelinluettelossa.")),S(n[a].id)),f(t)},newNumber:w,lisaanro:function(e){for(var t=e.target.value,a=0;a<n.length;a++)t===n[a].number?(alert("".concat(t," on jo puhelinluettelossa")),j("")):j(t)}}),l.a.createElement("h2",null,"Numerot"),l.a.createElement("div",null,z.map(function(e){return l.a.createElement("div",{id:"tiedot"},l.a.createElement(m,{sanoma:C,index:-1,yhteystiedot:z,key:e.id,nimi:e.name,numero:e.number}))})))};n(37);r.a.render(l.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a091e8b7.chunk.js.map